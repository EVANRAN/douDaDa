{"version":3,"sources":["pages/seller/store/reducer.js","pages/seller/store/constants.js","pages/seller/store/actions.js","store/reducer.js","store/index.js","common/leftNav/index.js","pages/seller/index.js","pages/home/Home.js","App.js","index.js"],"names":["defaultState","updateTime","updateTimeStr","page","list","total","GET_UPDATE_TIME","FETCH_SELLER_DATA","PAGE_SIZE","getUpTimeStr","string","ymd","date","myyear","getFullYear","mymonth","getMonth","myweekday","getDate","formatDate","Date","stamp","replace","console","log","getTime","type","constans","bigNumToString","num","toFixed","String","fetchSellerList","dispatch","axios","get","then","res","data","result","resList","map","item","subData","talentMessageDTO","likeCount","likeNumber","fansCount","totalFansNumber","updateSellers","reducer","combineReducers","leftNav","leftNavReducer","seller","state","action","constants","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","SubMenu","LeftNav","handleClick","e","location","this","props","className","onClick","style","width","selectedKeys","pathname","defaultOpenKeys","mode","Item","key","to","title","Component","withRouter","Seller","getUpdateTimeStr","getSellerList","length","uptimeStr","columns","dataIndex","render","record","src","dataSource","pagination","rowKey","id","current","pageSize","onChange","connect","actions","Home","App","path","exact","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.19b655b1.chunk.js","sourcesContent":["import { constants, actions } from \"./index\";\n\nconst defaultState = {\n  updateTime : 0,\n  updateTimeStr : '',\n  page :1,\n  list :[], \n  total: 0,\n}\nexport default (state=defaultState, action) => {\n\n  switch(action.type) {\n    case constants.GET_UPDATE_TIME:\n      return {...state, ...action};\n    case constants.FETCH_SELLER_DATA:\n      return {...state, ...action};\n    default:\n      return state;\n  }\n}","export const GET_UPDATE_TIME = 'SELLER/GET_UPDATE_TIME';\nexport const FETCH_SELLER_DATA = 'SELLER/FETCH_SELLER_DATA';\n\nexport const PAGE_SIZE = 10;","import * as constans from './constants';\nimport axios from 'axios';\n\n/**\n|--------------------------------------------------\n| 格式化时间 2019-02-03\n|--------------------------------------------------\n*/\nfunction formatDate(date) {\n  var myyear = date.getFullYear();\n  var mymonth = date.getMonth() + 1;\n  var myweekday = date.getDate();\n\n  if (mymonth < 10) {\n      mymonth = \"0\" + mymonth;\n  }\n  if (myweekday < 10) {\n      myweekday = \"0\" + myweekday;\n  }\n  return (myyear + \"-\" + mymonth + \"-\" + myweekday);\n}\n\nfunction getTimeStamp(string){\n  \n  string = string.replace(/-/g, '/');\n  console.log(string);\n  var d = new Date(string);\n  var time = d.getTime()/1000;\n  return time;\n}\n\nexport const getUpTimeStr = () => {\n\n  const ymd =  formatDate(new Date());\n  const stamp = getTimeStamp(ymd);\n  const time = '榜单更新于'+ ymd + ' 12:00:00';\n\n  return {\n    type: constans.GET_UPDATE_TIME,\n    updateTimeStr: time,\n    updateTime: stamp\n  } \n}\n\nconst updateSellers = (data, page, total) => ({\n  type: constans.FETCH_SELLER_DATA,\n  page: page,\n  total: total,\n  list: data\n})\n\nfunction bigNumToString(num){\n  \n  return (num > 10000)?  ( num/10000).toFixed(1) + '万' : String(num); \n}\n\nexport const fetchSellerList = (page) => {\n\n  return (dispatch) => {\n    axios.get('https://raw.githubusercontent.com/EVANRAN/douDaDa/gh-pages/api/seller.json').then((res) => {\n      const data = res.data;\n      if(data['code'] === 1001){\n        let result = data['result'];\n        const resList = result['talentSalesRankResList'];\n        resList.map((item) => {\n          \n          const subData = item.talentMessageDTO;\n          item.likeCount = bigNumToString(subData.likeNumber);\n          item.fansCount = bigNumToString(subData.totalFansNumber);\n          return item;\n        })\n        dispatch(updateSellers(resList, page, result['count']));\n      }\n    });\n  }\n}\n\n","import {combineReducers} from 'redux';\nimport {reducer as leftNavReducer} from '../common/leftNav/store';\nimport {reducer as sellerReducer} from '../pages/seller/store';\n\nconst reducer = combineReducers({\n  leftNav: leftNavReducer,\n  seller: sellerReducer\n});\n\nexport default reducer;\n","import {createStore, applyMiddleware, compose} from 'redux';\nimport reducer from './reducer';\nimport thunk from 'redux-thunk';\n\nconst composeEnhancers =\n  window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n    }) : compose;\n\nconst enhancer = composeEnhancers(\n  applyMiddleware(thunk),\n);\n\nconst store = createStore(reducer, enhancer);\nexport default store;\n\n","import React, { Component } from 'react'\nimport { Menu, Icon } from 'antd';\nimport {Link, withRouter} from 'react-router-dom';\nimport './leftnav.less';\n\nconst { SubMenu } = Menu;\n\nexport class LeftNav extends Component {\n\n  handleClick = e => {\n    console.log('click ', e);\n  };\n\n  render() {\n    const { location } = this.props;\n    console.log(location)\n    return (\n      <div className='left_nav'>\n        <Menu\n        onClick={this.handleClick}\n        style={{ width: 200 }}\n        selectedKeys={[location.pathname]}\n        defaultOpenKeys={['sub0','sub1', 'sub2', 'sub4']}\n        mode=\"inline\"\n      >\n        <Menu.Item key=\"/\" >\n        <Link to={'/'}>\n          <Icon type=\"compass\" />\n            工作台\n        </Link>\n          </Menu.Item>\n        <SubMenu\n          key=\"sub0\"\n          title={\n            <span>\n              <Icon type=\"bulb\" />\n              <span>创意洞察</span>\n            </span>\n          }\n        >\n            <Menu.Item key=\"100\">抖音热门视频</Menu.Item>\n            <Menu.Item key=\"101\">抖音热门音乐</Menu.Item>\n            <Menu.Item key=\"102\">热点视频追踪</Menu.Item>\n        </SubMenu>\n        <SubMenu\n          key=\"sub1\"\n          title={\n            <span>\n              <Icon type=\"shopping-cart\" />\n              <span>电商数据</span>\n            </span>\n          }\n        >\n            <Menu.Item key=\"1\">抖音好物榜 </Menu.Item>\n            <Menu.Item key=\"/seller\">\n              <Link to={'/seller'}>抖音达人销售榜</Link>\n            </Menu.Item>\n            <Menu.Item key=\"3\">带货达人福利区 </Menu.Item>\n        </SubMenu>\n        <SubMenu\n          key=\"sub2\"\n          title={\n            <span>\n              <Icon type=\"line-chart\" />\n              <span>抖音榜单</span>\n            </span>\n          }\n        >\n            <Menu.Item key=\"4\">抖音红人榜 </Menu.Item>\n            <Menu.Item key=\"5\">抖音粉丝榜 </Menu.Item>\n            <Menu.Item key=\"6\">抖音新锐榜 </Menu.Item>\n            <Menu.Item key=\"7\">抖音掉分榜 </Menu.Item>\n        </SubMenu>\n        \n     \n      </Menu>\n      </div>\n    );\n  }\n}\n\n\nexport default withRouter(LeftNav);\n\n\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport './seller.less';\nimport {actions, constants} from \"./store\";\nimport { Table, Pagination, Button } from 'antd';\n\nclass Seller extends Component {\n\n  constructor(props){\n    super(props);\n    this.props.getUpdateTimeStr();\n  }\n\n\n\n  componentDidMount(){\n\n    const { list, page, getSellerList } = this.props;\n    !list.length && getSellerList(page);\n\n  }\n\n\n  render() {\n    const {uptimeStr, list, page , total, getSellerList} = this.props;\n\n    const columns = [{\n      title: '排名',\n      dataIndex: 'rank',\n      key:'rank'\n    }, {\n      title: '头像',\n      dataIndex: 'avatar',\n      key:'avatar',\n      render: (record) => (\n      <span className='avatar'>\n        <img src= {record} />\n      </span>)\n    }, {\n      title: '昵称',\n      dataIndex: 'douyinName',\n      key:'douyinName',\n      width: '143px'\n    }, {\n      title: '标签',\n      dataIndex: 'talentMessageDTO.tagsName[0]',\n      key:'tagsName'\n    }, {\n      title: '\t粉丝总数',\n      dataIndex: 'fansCount',\n      key:'fansCount'\n    }, {\n      title: '点赞总数',\n      dataIndex: 'likeCount',\n      key:'likeCount'\n    }, {\n      title: '视频数',\n      dataIndex: 'talentMessageDTO.videoNumber',\n      key:'videoNumber'\n    }, {\n      title: '商品数',\n      dataIndex: 'talentMessageDTO.productCount',\n      key:'productCount'\n    }, {\n      title: '在卖商品',\n      // dataIndex: 'showCount',\n      key:'sellingGood'\n    } ]\n    return (\n      <div className='wrapper'>\n        <div className='header'>\n          <div className='title'>抖音达人销量榜</div>\n          <div className='up_time'>{uptimeStr}</div>\n        </div>\n        <div className='content'>\n          <Table \n            dataSource={list}\n            columns = {columns}\n            pagination = {false}\n            rowKey= {record => record.id}\n            />\n          <Pagination\n            className='antd_pagination'\n            current={page}\n            pageSize= {constants.PAGE_SIZE}\n            total = {total}\n            onChange = {getSellerList}/>\n\n\n        </div>\n        \n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  uptimeStr : state.seller.updateTimeStr,\n  list : state.seller.list,\n  page : state.seller.page,\n  total : state.seller.total\n})\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getUpdateTimeStr(){\n      dispatch(actions.getUpTimeStr());\n    },\n    getSellerList(page){\n      dispatch(actions.fetchSellerList(page));\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Seller);\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport './Home.less';\n\nclass Home extends Component {\n\n  render(){\n   \n    \n    return (\n      <div className={'normal'}>\n        <div className={'welcome'}>\n        </div>\n        <ul className={'list'}>\n          <li>Welcome to <code>douDaDa</code> and have fun.</li>\n          <li>\n              <Link to='/seller'>\n                Getting Started\n              </Link>\n          </li>\n        </ul>\n      </div>\n    )\n  }\n  \n}\n\nexport default Home;","import React, { Component,Fragment } from 'react';\nimport { Provider } from 'react-redux';\nimport store from './store';\nimport LeftNav from './common/leftNav';\nimport {HashRouter, Route} from 'react-router-dom';\nimport Seller from './pages/seller';\nimport Home from './pages/home/Home';\n\nexport class App extends Component {\n  render() {\n    return (\n      <Fragment>\n        <Provider store={store}>\n          <div>\n            <HashRouter>\n              <LeftNav/>\n              <Route path='/' exact component={Home}></Route>\n              <Route path='/seller' exact component={Seller}></Route>\n            </HashRouter>\n          </div>\n        </Provider>\n      </Fragment>\n    )\n  }\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}